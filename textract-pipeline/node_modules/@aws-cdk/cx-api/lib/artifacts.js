"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.AWS_ENV_REGEX = /aws\:\/\/([0-9]+|unknown-account)\/([a-z\-0-9]+)/;
var ArtifactType;
(function (ArtifactType) {
    ArtifactType["AwsCloudFormationStack"] = "aws:cloudformation:stack";
    ArtifactType["AwsEcrDockerImage"] = "aws:ecr:image";
    ArtifactType["AwsS3Object"] = "aws:s3:object";
})(ArtifactType = exports.ArtifactType || (exports.ArtifactType = {}));
function validateArtifact(artifcat) {
    if (!exports.AWS_ENV_REGEX.test(artifcat.environment)) {
        throw new Error(`Artifact "environment" must conform to ${exports.AWS_ENV_REGEX}: ${artifcat.environment}`);
    }
}
exports.validateArtifact = validateArtifact;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXJ0aWZhY3RzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiYXJ0aWZhY3RzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQWEsUUFBQSxhQUFhLEdBQUcsa0RBQWtELENBQUM7QUFFaEYsSUFBWSxZQUlYO0FBSkQsV0FBWSxZQUFZO0lBQ3RCLG1FQUFtRCxDQUFBO0lBQ25ELG1EQUFtQyxDQUFBO0lBQ25DLDZDQUE2QixDQUFBO0FBQy9CLENBQUMsRUFKVyxZQUFZLEdBQVosb0JBQVksS0FBWixvQkFBWSxRQUl2QjtBQVlELFNBQWdCLGdCQUFnQixDQUFDLFFBQWtCO0lBQ2pELElBQUksQ0FBQyxxQkFBYSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLEVBQUU7UUFDN0MsTUFBTSxJQUFJLEtBQUssQ0FBQywwQ0FBMEMscUJBQWEsS0FBSyxRQUFRLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQztLQUNyRztBQUNILENBQUM7QUFKRCw0Q0FJQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBBV1NfRU5WX1JFR0VYID0gL2F3c1xcOlxcL1xcLyhbMC05XSt8dW5rbm93bi1hY2NvdW50KVxcLyhbYS16XFwtMC05XSspLztcblxuZXhwb3J0IGVudW0gQXJ0aWZhY3RUeXBlIHtcbiAgQXdzQ2xvdWRGb3JtYXRpb25TdGFjayA9ICdhd3M6Y2xvdWRmb3JtYXRpb246c3RhY2snLFxuICBBd3NFY3JEb2NrZXJJbWFnZSA9ICdhd3M6ZWNyOmltYWdlJyxcbiAgQXdzUzNPYmplY3QgPSAnYXdzOnMzOm9iamVjdCdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBcnRpZmFjdCB7XG4gIHJlYWRvbmx5IHR5cGU6IEFydGlmYWN0VHlwZTtcbiAgcmVhZG9ubHkgZW52aXJvbm1lbnQ6IHN0cmluZzsgLy8gZm9ybWF0OiBhd3M6Ly9hY2NvdW50L3JlZ2lvblxuICByZWFkb25seSBtZXRhZGF0YT86IHsgW3BhdGg6IHN0cmluZ106IGFueSB9O1xuICByZWFkb25seSBkZXBlbmRlbmNpZXM/OiBzdHJpbmdbXTtcbiAgcmVhZG9ubHkgbWlzc2luZz86IHsgW2tleTogc3RyaW5nXTogYW55IH07XG4gIHJlYWRvbmx5IHByb3BlcnRpZXM/OiB7IFtuYW1lOiBzdHJpbmddOiBhbnkgfTtcbiAgcmVhZG9ubHkgYXV0b0RlcGxveT86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUFydGlmYWN0KGFydGlmY2F0OiBBcnRpZmFjdCkge1xuICBpZiAoIUFXU19FTlZfUkVHRVgudGVzdChhcnRpZmNhdC5lbnZpcm9ubWVudCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEFydGlmYWN0IFwiZW52aXJvbm1lbnRcIiBtdXN0IGNvbmZvcm0gdG8gJHtBV1NfRU5WX1JFR0VYfTogJHthcnRpZmNhdC5lbnZpcm9ubWVudH1gKTtcbiAgfVxufVxuIl19